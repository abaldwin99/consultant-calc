var app=angular.module("consultCalc",[]);app.controller("ConsultCalcController",["$scope",function(t){"use strict";function o(t,a){return a="undefined"!=typeof a?a:0,t?t:a}var a=this;a.test="",a.itemRows=[],a.page="main",a.addItemRow=function(){a.itemRows.push({amount:null,quantity:null})},a.calcProductSubTotal=function(){for(var u,t=0,n=0;n<a.itemRows.length;n++)u=a.itemRows[n].amount*a.itemRows[n].quantity,t+=o(u);var l=1-a.discount/100;l=o(l,1),t*=l,a.productSubTotal=t},a.calcShippingSubTotal=function(){var t=o(a.shippingRate/100),u=o(a.handlingRate);a.shippingSubTotal=a.productSubTotal*t+u,a.shippingProductSubTotal=a.shippingSubTotal+a.productSubTotal},a.calcTaxSubTotal=function(){var t=o(a.taxRate/100,0);a.taxShipping?a.taxSubTotal=(a.productSubTotal+a.shippingSubTotal)*t:a.taxSubTotal=a.productSubTotal*t},a.calcGrandTotal=function(){a.grandTotal=a.productSubTotal+a.shippingSubTotal+a.taxSubTotal},a.calcFields=function(){a.calcProductSubTotal(),a.calcShippingSubTotal(),a.calcTaxSubTotal(),a.calcGrandTotal()};var u=function(){for(var t=0;3>t;t++)a.addItemRow();a.calcFields()};u(),a.loadPage=function(t){a.page=t}}]);
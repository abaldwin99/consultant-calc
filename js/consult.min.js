var app=angular.module("consultCalc",[]);app.controller("ConsultCalcController",["$scope",function(a){"use strict";function o(a,t){return t="undefined"!=typeof t?t:0,a?a:t}var t=this;t.itemRows=[],t.page="main",t.addItemRow=function(){t.itemRows.push({amount:null,quantity:null})},t.calcProductSubTotal=function(){for(var u,a=0,l=0;l<t.itemRows.length;l++)u=t.itemRows[l].amount*t.itemRows[l].quantity,a+=o(u);var n=1-t.discount/100;n=o(n,1),a*=n,t.productSubTotal=a},t.calcShippingSubTotal=function(){var a=o(t.shippingRate/100),u=o(t.handlingRate);t.shippingSubTotal=t.productSubTotal*a+u,t.shippingProductSubTotal=t.shippingSubTotal+t.productSubTotal},t.calcTaxSubTotal=function(){var a=o(t.taxRate/100,0);t.taxShipping?t.taxSubTotal=(t.productSubTotal+t.shippingSubTotal)*a:t.taxSubTotal=t.productSubTotal*a},t.calcGrandTotal=function(){t.grandTotal=t.productSubTotal+t.shippingSubTotal+t.taxSubTotal},t.calcFields=function(){t.calcProductSubTotal(),t.calcShippingSubTotal(),t.calcTaxSubTotal(),t.calcGrandTotal()};var u=function(){for(var a=0;3>a;a++)t.addItemRow();t.calcFields()};u(),t.loadPage=function(a){t.page=a}}]);
